(this.webpackJsonpinfovis2=this.webpackJsonpinfovis2||[]).push([[0],{151:function(t,e,r){},152:function(t,e,r){},187:function(t,e,r){"use strict";r.r(e);var n=r(2),a=r(1),c=r.n(a),i=r(36),s=r.n(i),o=r(37),l=(r(151),r(50)),u=r(12),j=(r(152),r(8)),d=r.p+"static/media/logo.6ce24c58.svg",h=r(48),b=r.n(h),O=function(t){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("img",{src:d,className:"App-logo",alt:"logo"}),Object(n.jsxs)("p",{children:["Nuclear ",Object(n.jsx)("code",{children:"diving"})," decision support system."]}),t.loading?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("small",{children:"Please wait while the CSV-File is parsed..."}),Object(n.jsx)("br",{}),Object(n.jsx)(b.a,{css:"margin: 0 auto;"})]}):Object(n.jsx)(o.b,{to:"/welcome",className:"btn btn-danger",children:"Enter Page and see visualizations"})]})})},x=r(16),p=0,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return p++,"".concat(t).concat(p)},m=function(t){var e=Object(a.useState)(f()),r=Object(u.a)(e,1)[0];return Object(a.useEffect)((function(){var e=[{"Station.Number":12,Depth:5},{"Station.Number":5,Depth:20},{"Station.Number":5,Depth:30}],n=x.g("#".concat(r)).append("svg").attr("width",t.width).attr("height",t.height);n.selectAll("rect").data(e).enter().append("rect").attr("x",(function(t,e){return 70*e})).attr("y",0).attr("width",25).attr("height",(function(t,e){return 5*t.Depth})).attr("fill","green"),n.selectAll("text").data(e).enter().append("text").text((function(t){return t["Station.Number"]})).attr("x",(function(t,e){return 70*e})).attr("y",(function(t,e){return 6*t.Depth+10}))}),[]),Object(n.jsx)("div",{id:r})};m.defaultProps={width:700,height:300};var g=r(97),v=r.n(g),S=r(190),y=r(191),D=r(192),N=r(193),w=r(194),T=r(195),F=r(196),k=r(202),M=r(203),A=r(204),C=r(197),E=function(t){var e=Object(a.useState)(!1),r=Object(u.a)(e,2),c=r[0],i=r[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)(S.a,{color:"light",light:!0,expand:"md",children:[Object(n.jsx)(y.a,{href:"/#/",children:"Scuba Diving Support"}),Object(n.jsx)(D.a,{onClick:function(){return i(!c)}}),Object(n.jsxs)(N.a,{isOpen:c,navbar:!0,children:[Object(n.jsxs)(w.a,{className:"mr-auto",navbar:!0,children:[Object(n.jsx)(T.a,{children:Object(n.jsx)(F.a,{href:"/#/welcome",children:"Home"})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(F.a,{href:"/#/dt",children:"Depth-Temperature"})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(F.a,{href:"/#/vis",children:"Vis"})})]}),Object(n.jsxs)(k.a,{navbar:!0,children:[Object(n.jsx)(M.a,{nav:!0,children:"Group 14"}),Object(n.jsxs)(A.a,{right:!0,children:[Object(n.jsx)(C.a,{children:Object(n.jsx)("strong",{children:"Members"})}),Object(n.jsx)(C.a,{divider:!0}),Object(n.jsx)(C.a,{children:"Simone Andreetto"}),Object(n.jsx)(C.a,{children:"Christoph G\xf6tz"}),Object(n.jsx)(C.a,{children:"Felix Winterleitner"})]})]})]})]}),Object(n.jsx)("div",{className:"container",children:t.children})]})},B=function(t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Welcome to the Diving Support System Visualization Page"}),Object(n.jsx)("p",{children:"Here, our sample visualizations for the use case of scuba diving in the San Francisco Bay area are presented."}),Object(n.jsxs)("p",{children:["The dataset in use can be obtained from: ",Object(n.jsx)("a",{href:"infovis2/SFBay.csv",children:"SFBay.csv"})]}),Object(n.jsxs)("p",{children:["It consists of ",t.data.length," data entries recorded from ",t.data[0].TimeStamp.toLocaleDateString("de-DE")," to ",t.data[t.data.length-1].TimeStamp.toLocaleDateString("de-DE")," in the San Francisco Bay area."]})]})},P=r(39),z=r.n(P),L=r(31),R=r(13),I=r(103),_=function(t){var e=Object(a.useState)(f()),r=Object(u.a)(e,1)[0],c=Object(a.useState)(null),i=Object(u.a)(c,2),s=(i[0],i[1]);return Object(a.useEffect)((function(){document.getElementById(r).innerHTML="";var e=function(t){var e,r=t.reduce((function(t,e){return t.set(e["Station.Number"],[].concat(Object(L.a)(t.get(e["Station.Number"])||[]),[e]))}),new Map),n=[],a=[],c=Object(R.a)(r.keys());try{for(c.s();!(e=c.n()).done;){var i,s=e.value,o={"Station.Number":s,Measures:[]},l=r.get(s).reduce((function(t,e){return t.set(e.Depth,[].concat(Object(L.a)(t.get(e.Depth)||[]),[e]))}),new Map),u=Object(R.a)(l.keys());try{for(u.s();!(i=u.n()).done;){var j=i.value,d=l.get(j),h=(d.reduce((function(t,e){return t+e.Temperature}),0)/d.length).toFixed(1);o.Measures.push({Depth:j,Temperature:h}),a.push({"Station.Number":s,Depth:j,Temperature:h})}}catch(b){u.e(b)}finally{u.f()}o.Measures.sort((function(t,e){return t.Depth>e.Depth?-1:1})),n.push(o)}}catch(b){c.e(b)}finally{c.f()}return n.sort((function(t,e){return t["Station.Number"]>e["Station.Number"]?1:-1})),n}(t.data),n=e.map((function(t){return t.Measures})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return t.Depth})).reduce((function(t,e){return t>e?t:e}),0);console.log("Data",n);var a=40,c=20,i=20,o=40,l=t.width-o-c,u=t.height-a-i,j=x.g("#".concat(r)).append("svg").attr("width",l+o+c).attr("height",u+a+i).append("g").attr("transform","translate("+o+","+a+")"),d=x.f(x.c).domain([30,0]),h=x.d().domain(e.map((function(t){return t["Station.Number"]}))).range([0,l]).padding([.3]);j.append("g").call(x.b(h).tickSizeOuter(0)),j.append("text").attr("class","x label").attr("text-anchor","end").attr("x",l).attr("y",-20).text("Station Number");var b=x.e().domain([n,0]).range([u,0]);j.append("g").call(x.a(b)),j.append("text").attr("class","y label").attr("text-anchor","end").attr("x",50-u).attr("y",-35).attr("dy",".75em").attr("transform","rotate(-90)").text("Depth");var O=Object(I.a)().attr("class","d3-tip").html((function(t){var e=t.toElement.__data__;return e.Depth+"m: "+e.Temperature+"\xb0C"})).offset([20,0]);j.call(O),j.append("g").selectAll("g").data(e).enter().append("g").attr("transform",(function(t,e){return"translate("+h(t["Station.Number"])+", 0)"})).selectAll("rect").data((function(t){return t.Measures})).enter().append("rect").attr("y",1).attr("height",(function(t){return b(t.Depth)})).attr("width",h.bandwidth()).style("fill",(function(t){return d(t.Temperature)})).on("mouseover",O.show).on("mouseout",O.hide),s(j)}),[t.data]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Temperature from low to high"}),Object(n.jsx)("div",{id:r})]})};_.defaultProps={width:700,height:500};var H=r(198),V=r(199),G=r(200),J=r(201),W=r(98),Y=r(101),q=r(102);var K=function(){function t(e,r,n){Object(Y.a)(this,t),this.attribute=e,this.comparator=r,this.threshold=n,"TimeStamp"==e&&(this.threshold=z()(n).toDate())}return Object(q.a)(t,[{key:"toString",value:function(){return"TimeStamp"==this.attribute?this.attribute+" "+this.comparator+" "+this.threshold.toLocaleDateString("de-DE"):this.attribute+" "+this.comparator+" "+this.threshold.toString()}},{key:"filter",value:function(t){var e=this;switch(this.comparator){case"=":case"==":return"TimeStamp"==this.attribute?t.filter((function(t){return r=t[e.attribute],n=e.threshold,r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate();var r,n})):t.filter((function(t){return t[e.attribute]==e.threshold}));case"<":return t.filter((function(t){return t[e.attribute]<e.threshold}));case"<=":return t.filter((function(t){return t[e.attribute]<=e.threshold}));case">":return t.filter((function(t){return t[e.attribute]>e.threshold}));case">=":return t.filter((function(t){return t[e.attribute]>=e.threshold}))}}}]),t}(),Q=function(t){var e=Object(a.useState)([]),r=Object(u.a)(e,2),c=r[0],i=r[1],s=Object(a.useRef)(null),o=Object(a.useRef)(null),l=Object(a.useRef)(null),j=function(){var e,r=t.data,n=Object(R.a)(c);try{for(n.s();!(e=n.n()).done;){r=e.value.filter(r)}}catch(a){n.e(a)}finally{n.f()}return r};return Object(n.jsxs)(H.a,{children:[Object(n.jsx)(V.a,{xs:"8",className:"visualization-panel",children:Object(n.jsx)(_,{data:j()})}),Object(n.jsxs)(V.a,{xs:"4",className:"control-panel",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsxs)(V.a,{xs:"12",children:[Object(n.jsx)("strong",{children:"Filters"}),Object(n.jsx)("small",{children:" (click to remove)"})]}),Object(n.jsx)(V.a,{xs:"12",children:c.map((function(t){return Object(n.jsx)(G.a,{className:"m-1",color:"success",onClick:function(){return i(c.filter((function(e){return t!=e})))},children:t.toString()})}))})]}),Object(n.jsx)(H.a,{children:Object(n.jsx)(V.a,{className:"pl-3",children:Object(n.jsxs)("small",{children:[j().length," rows match filters."]})})}),Object(n.jsx)("hr",{}),Object(n.jsx)(H.a,{children:Object(n.jsx)(V.a,{xs:"12",children:Object(n.jsx)("strong",{children:"Add Filter"})})}),Object(n.jsxs)(H.a,{className:"mt-1",children:[Object(n.jsx)(V.a,{xs:"3",children:"Attribute"}),Object(n.jsx)(V.a,{xs:"9",children:Object(n.jsx)(J.a,{innerRef:s,type:"select",children:t.attributes.map((function(t){return Object(n.jsx)("option",{value:t,children:t})}))})})]}),Object(n.jsxs)(H.a,{className:"mt-1",children:[Object(n.jsx)(V.a,{xs:"3",children:"Comparator"}),Object(n.jsx)(V.a,{xs:"9",children:Object(n.jsx)(J.a,{innerRef:o,type:"select",children:["==","<","<=",">",">="].map((function(t){return Object(n.jsx)("option",{value:t,children:t})}))})})]}),Object(n.jsxs)(H.a,{className:"mt-1 mb-2",children:[Object(n.jsx)(V.a,{xs:"3",children:"Threshold"}),Object(n.jsx)(V.a,{xs:"9",children:Object(n.jsx)(J.a,{innerRef:l,type:"text",placeholder:"[for dates use: yyyy-mm-dd]"})})]}),Object(n.jsx)(H.a,{children:Object(n.jsx)(V.a,{xs:"12",children:Object(n.jsx)(W.a,{block:!0,onClick:function(){return function(){var t=s.current.value,e=o.current.value,r=l.current.value;if(0!=r.length){var n=new K(t,e,r);i([].concat(Object(L.a)(c),[n]))}}()},children:"Add Filter"})})})]})]})},U=function(){var t=Object(a.useState)([]),e=Object(u.a)(t,2),r=e[0],c=e[1],i=Object(a.useState)([]),s=Object(u.a)(i,2),o=s[0],d=s[1],h=Object(a.useState)(!0),b=Object(u.a)(h,2),x=b[0],p=b[1];return Object(a.useEffect)((function(){v.a.parse("infovis2/SFBay.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(t,e){var r=t.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{TimeStamp:z()(t.TimeStamp).toDate()})}));r.pop(),c(r),d(Object.keys(r[0])),p(!1)}})}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(n.jsx)(O,{data:r,loading:x})}}),Object(n.jsxs)(E,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/welcome",render:function(){return Object(n.jsx)(B,{data:r})}}),Object(n.jsx)(j.a,{exact:!0,path:"/dt",render:function(){return Object(n.jsx)(Q,{data:r,attributes:o})}}),Object(n.jsx)(j.a,{exact:!0,path:"/vis",render:function(){return Object(n.jsx)(m,{data:r})}})]})]})},X=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,205)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;r(t),n(t),a(t),c(t),i(t)}))};r(186);s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(U,{})})}),document.getElementById("root")),X()}},[[187,1,2]]]);
//# sourceMappingURL=main.57713d7c.chunk.js.map